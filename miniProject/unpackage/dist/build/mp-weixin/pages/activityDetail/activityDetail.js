"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/activityEnum.js"),i=require("../../utils/userStorage.js"),o=require("../../api/activityApi.js"),n=require("../../uni_modules/wot-design-uni/components/wd-toast/index.js");if(require("../../uni_modules/wot-design-uni/locale/index.js"),!Array){(e.resolveComponent("wd-icon")+e.resolveComponent("wd-button")+e.resolveComponent("wd-gap")+e.resolveComponent("wd-toast"))()}Math||((()=>"../../uni_modules/wot-design-uni/components/wd-icon/wd-icon.js")+(()=>"../../uni_modules/wot-design-uni/components/wd-button/wd-button.js")+(()=>"../../uni_modules/wot-design-uni/components/wd-gap/wd-gap.js")+(()=>"../../uni_modules/wot-design-uni/components/wd-toast/wd-toast.js"))();const s=e.defineComponent({__name:"activityDetail",setup(s){const a=n.useToast(),r=e.ref({}),u=e.ref({});e.onLoad((e=>{console.log(e.activityInfo),r.value=JSON.parse(e.activityInfo),u.value=i.getUserInfo()}));const l=e.lodashExports.debounce((async()=>{console.log("报名");const t={activityId:r.value.id,userId:u.value.id},i=await o.registrationActivity(t);if(200===i.code){const t=r.value.isRegistration?"取消报名成功":"报名成功";a.show({msg:t,cover:!0}),setTimeout((()=>{e.index.navigateBack()}),1e3)}else a.error(i.message)}),600);return e.onShareAppMessage((e=>(console.log(e),{title:"青春共享站",path:"/pages/index/index",imageUrl:"/static/logo.jpg"}))),e.onShareTimeline((()=>({title:"青春共享站",path:"/pages/index/index",imageUrl:"/static/logo.jpg"}))),(i,o)=>{var n;return{a:r.value.coverPicture,b:e.t(e.unref(t.getActivityStatus)(null==(n=r.value)?void 0:n.status)),c:e.t(r.value.title),d:e.t(r.value.endTime),e:e.t(r.value.maxSignups-r.value.currentSignups),f:e.t(r.value.currentSignups),g:e.p({name:"circle",size:"18px"}),h:e.p({name:"time",size:"18px"}),i:e.t(r.value.startTime),j:e.p({name:"location",size:"18px"}),k:e.t(r.value.position),l:e.p({name:"circle",size:"18px"}),m:e.p({name:"user-avatar",size:"18px"}),n:e.t(r.value.targetUsers),o:e.p({name:"circle",size:"18px"}),p:e.p({name:"tips",size:"18px"}),q:e.t(r.value.organizers),r:e.p({name:"circle",size:"18px"}),s:e.t(r.value.profile),t:e.t(r.value.isRegistration?"取消报名":"立即报名"),v:e.o(e.unref(l)),w:e.p({block:!0}),x:e.p({"safe-area-bottom":!0,height:"0"})}}}});s.__runtimeHooks=6;const a=e._export_sfc(s,[["__scopeId","data-v-b03d56b6"]]);wx.createPage(a);
