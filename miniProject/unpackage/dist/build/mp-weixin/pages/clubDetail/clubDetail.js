"use strict";const e=require("../../common/vendor.js"),a=require("../../api/clubApi.js"),t=require("../../uni_modules/wot-design-uni/components/wd-toast/index.js");if(require("../../uni_modules/wot-design-uni/locale/index.js"),!Array){(e.resolveComponent("wd-loading")+e.resolveComponent("wd-icon")+e.resolveComponent("wd-toast"))()}Math||((()=>"../../uni_modules/wot-design-uni/components/wd-loading/wd-loading.js")+(()=>"../../uni_modules/wot-design-uni/components/wd-icon/wd-icon.js")+(()=>"../../uni_modules/wot-design-uni/components/wd-toast/wd-toast.js"))();const r=e.defineComponent({__name:"clubDetail",setup(r){const o=t.useToast(),s=e.ref(!1),u=e.ref(!0),n=e.ref({id:0,name:"",profile:"",cover:"",avatar:"",grandTotal:0,awards:[],userVO:{imageUrl:"",userName:"",userAccount:"",userProfile:"",userRole:""}}),i=()=>{s.value=!0},l=()=>{e.index.vibrateShort()},v=e=>{switch(e){case 0:return"status-upcoming";case 1:return"status-ongoing";case 2:return"status-ended";default:return"status-unknown"}},c=e=>{switch(e){case 0:return"即将开始";case 1:return"进行中";case 2:return"已结束";default:return"未知状态"}};return e.onLoad((t=>{(null==t?void 0:t.id)?(async e=>{try{u.value=!0;const t=await a.getClubDetail(e);console.log(t),200===t.code&&t.data?n.value=t.data:o.error("获取社团详情失败")}catch(t){console.error("获取社团详情错误:",t),o.error("获取社团详情失败")}finally{u.value=!1}})(Number(t.id)):(o.error("参数错误"),setTimeout((()=>{e.index.navigateBack()}),1500))})),(a,t)=>e.e({a:u.value},u.value?{}:e.e({b:n.value.cover},n.value.cover?{c:n.value.cover}:{},{d:n.value.avatar},n.value.avatar?{e:n.value.avatar}:{},{f:e.t(n.value.name),g:e.t(n.value.grandTotal||0),h:e.p({name:"info",color:"#007AFF"}),i:e.t(n.value.profile||"暂无介绍"),j:e.o(l),k:e.p({name:"user",color:"#007AFF"}),l:n.value.userVO},n.value.userVO?e.e({m:n.value.userVO.imageUrl||"/static/default-avatar.png",n:e.o(i),o:!s.value},(s.value,{}),{p:e.t(n.value.userVO.userName||"未设置姓名"),q:e.t(n.value.userVO.userAccount),r:n.value.userVO.tagList&&n.value.userVO.tagList.length>0},n.value.userVO.tagList&&n.value.userVO.tagList.length>0?{s:e.f(n.value.userVO.tagList,((a,t,r)=>({a:e.t(a),b:t})))}:{},{t:void 0!==n.value.userVO.gender},void 0!==n.value.userVO.gender?{v:e.p({name:1===n.value.userVO.gender?"male":"female",color:1===n.value.userVO.gender?"#007AFF":"#FF69B4",size:"28rpx"})}:{},{w:n.value.userVO.constellation},n.value.userVO.constellation?{x:e.p({name:"star",color:"#FFB900",size:"28rpx"}),y:e.t(n.value.userVO.constellation)}:{},{z:e.t(n.value.userVO.userProfile||"这个社长很懒，还没有填写简介~")}):{},{A:e.o(l),B:n.value.awards&&n.value.awards.length>0},n.value.awards&&n.value.awards.length>0?{C:e.p({name:"trophy",color:"#FFB900"}),D:e.f(n.value.awards,((a,t,r)=>({a:a,b:"1977119b-6-"+r,c:t,d:e.o((t=>{return r=a,void e.index.previewImage({urls:n.value.awards,current:r});var r}),t)}))),E:e.p({name:"zoom-in",color:"#fff",size:"40rpx"})}:{},{F:n.value.activityVOList&&n.value.activityVOList.length>0},n.value.activityVOList&&n.value.activityVOList.length>0?{G:e.p({name:"calendar",color:"#007AFF"}),H:e.f(n.value.activityVOList,((a,t,r)=>e.e({a:a.coverPicture},a.coverPicture?{b:a.coverPicture}:{},{c:e.t(a.title),d:"1977119b-8-"+r,e:e.t(a.startTime),f:"1977119b-9-"+r,g:e.t(a.position||"暂无地点"),h:e.t(a.profile||"暂无描述"),i:e.t(c(a.status)),j:e.n(v(a.status)),k:2!==a.status},2!==a.status?{l:e.t(a.isRegistration?"已报名":"未报名"),m:e.n(a.isRegistration?"registered":"not-registered")}:{},{n:t,o:e.o((t=>(a=>{console.log(a),e.index.navigateTo({url:`/pages/activityDetail/activityDetail?activityInfo=${JSON.stringify(a)}`})})(a)),t)}))),I:e.p({name:"time",size:"24rpx",color:"#666"}),J:e.p({name:"location",size:"24rpx",color:"#666"})}:{}))}});wx.createPage(r);
