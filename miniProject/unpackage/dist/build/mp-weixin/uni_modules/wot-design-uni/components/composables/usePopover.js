"use strict";const t=require("../../../../common/vendor.js"),e=require("../common/util.js");exports.usePopover=function(a=!0){const{proxy:r}=t.getCurrentInstance(),o=t.ref(""),l=t.ref(""),p=t.ref(""),u=t.ref(""),n=t.ref(0),v=t.ref(0),f=t.ref(0),s=t.ref(0),$=t.ref(0),x=t.ref(0),i=t.ref(0);return{popStyle:o,arrowStyle:l,showStyle:p,arrowClass:u,init:function(t,a,o){if(a){const e=[`wd-${o}__arrow`,"bottom"===t||"bottom-start"===t||"bottom-end"===t?`wd-${o}__arrow-up`:"","left"===t||"left-start"===t||"left-end"===t?`wd-${o}__arrow-right`:"","right"===t||"right-start"===t||"right-end"===t?`wd-${o}__arrow-left`:"","top"===t||"top-start"===t||"top-end"===t?`wd-${o}__arrow-down`:""];u.value=e.join(" ")}e.getRect("#target",!1,r).then((t=>{t&&(f.value=t.left,s.value=t.bottom,$.value=t.width,x.value=t.height,i.value=t.top)})),e.getRect("#pos",!1,r).then((t=>{t&&(n.value=t.width,v.value=t.height)}))},control:function(t,r){const p=a?9:0,u=$.value/2,f=p+x.value+5,s=$.value+p+5,i=x.value/2;let m=0,h=0;Array.isArray(r)?(m=(u-17>0?0:u-25)+r[0],h=(i-17>0?0:i-25)+(r[1]?r[1]:r[0])):e.isObj(r)?(m=(u-17>0?0:u-25)+r.x,h=(i-17>0?0:i-25)+r.y):(m=(u-17>0?0:u-25)+r,h=(i-17>0?0:i-25)+r);const g=new Map([["top",[`left: ${u}px; bottom: ${f}px; transform: translateX(-50%);`,"left: 50%;"]],["top-start",[`left: ${m}px; bottom: ${f}px;`,`left: ${(n.value>=$.value?$.value/2:n.value-25)-m}px;`]],["top-end",[`right: ${m}px; bottom: ${f}px;`,`right: ${(n.value>=$.value?$.value/2:n.value-25)-m}px; transform: translateX(50%);`]],["bottom",[`left: ${u}px; top: ${f}px; transform: translateX(-50%);`,"left: 50%;"]],["bottom-start",[`left: ${m}px; top: ${f}px;`,`left: ${(n.value>=$.value?$.value/2:n.value-25)-m}px;`]],["bottom-end",[`right: ${m}px; top: ${f}px;`,`right: ${(n.value>=$.value?$.value/2:n.value-25)-m}px; transform: translateX(50%);`]],["left",[`right: ${s}px; top: ${i}px; transform: translateY(-50%);`,"top: 50%"]],["left-start",[`right: ${s}px; top: ${h}px;`,`top: ${(v.value>=x.value?x.value/2:v.value-20)-h}px;`]],["left-end",[`right: ${s}px; bottom: ${h}px;`,`bottom: ${(v.value>=x.value?x.value/2:v.value-20)-h}px; transform: translateY(50%);`]],["right",[`left: ${s}px; top: ${i}px; transform: translateY(-50%);`,"top: 50%"]],["right-start",[`left: ${s}px; top: ${h}px;`,`top: ${(v.value>=x.value?x.value/2:v.value-20)-h}px;`]],["right-end",[`left: ${s}px; bottom: ${h}px;`,`bottom: ${(v.value>=x.value?x.value/2:v.value-20)-h}px; transform: translateY(50%);`]]]);o.value=g.get(t)[0],l.value=g.get(t)[1]},noop:function(){}}};
