"use strict";const e=require("../../../../common/vendor.js"),o=require("../composables/useParent.js"),l=require("../wd-checkbox-group/types.js"),a=require("../common/util.js"),u=require("./types.js");Math||t();const t=()=>"../wd-icon/wd-icon.js",s=e.defineComponent({name:"wd-checkbox",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:u.checkboxProps,emits:["change","update:modelValue"],setup(u,{expose:t,emit:s}){const c=u,n=s;t({toggle:$});const{parent:d,index:r}=o.useParent(l.CHECKBOX_GROUP_KEY),i=e.computed((()=>d?d.props.modelValue.indexOf(c.modelValue)>-1:c.modelValue===c.trueValue)),p=e.computed((()=>0===r.value)),h=e.computed((()=>{const e=a.isDef(d)?d.children:[];return r.value===e.length-1})),{proxy:m}=e.getCurrentInstance();e.watch((()=>c.modelValue),(()=>{d&&d&&d.children&&d.children.forEach((e=>{e.$.uid!==m.$.uid&&e.modelValue===c.modelValue&&console.error(`The checkbox's bound value: ${c.modelValue} has been used`)}))})),e.watch((()=>c.shape),(e=>{const o=["circle","square","button"];a.isDef(e)&&-1===o.indexOf(e)&&console.error(`shape must be one of ${o.toString()}`)}));const b=e.computed((()=>c.shape||a.getPropByPath(d,"props.shape")||"circle")),v=e.computed((()=>c.checkedColor||a.getPropByPath(d,"props.checkedColor"))),x=e.computed((()=>{if(!d)return c.disabled;const{max:e,min:o,modelValue:l,disabled:a}=d.props;return!!(e&&l.length>=e&&!i.value||o&&l.length<=o&&i.value||!0===c.disabled||a&&null===c.disabled)||c.disabled})),g=e.computed((()=>a.getPropByPath(d,"props.inline")||!1)),k=e.computed((()=>a.getPropByPath(d,"props.cell")||!1)),V=e.computed((()=>c.size||a.getPropByPath(d,"props.size")));function $(){if(!x.value)if(d)n("change",{value:!i.value}),d.changeSelectState(c.modelValue);else{const e=c.modelValue===c.trueValue?c.falseValue:c.trueValue;n("update:modelValue",e),n("change",{value:e})}}return e.onBeforeMount((()=>{null===c.modelValue&&console.error("checkbox's value must be set")})),(o,l)=>e.e({a:"button"!==b.value},"button"!==b.value?{b:e.p({"custom-class":"wd-checkbox__check",name:"check-bold"}),c:e.n(`wd-checkbox__shape ${"square"===b.value?"is-square":""} ${o.customShapeClass}`),d:e.s(i.value&&!x.value&&v.value?"color :"+v.value:"")}:{},{e:"button"===b.value&&i.value},"button"===b.value&&i.value?{f:e.p({"custom-class":"wd-checkbox__btn-check",name:"check-bold"})}:{},{g:e.s(o.maxWidth?"max-width:"+o.maxWidth:""),h:e.n(`wd-checkbox__label ${o.customLabelClass}`),i:e.s(i.value&&"button"===b.value&&!x.value&&v.value?"color:"+v.value:""),j:e.n(`wd-checkbox ${k.value?"is-cell-box":""} ${"button"===b.value?"is-button-box":""} ${i.value?"is-checked":""} ${p.value?"is-first-child":""} ${h.value?"is-last-child":""} ${g.value?"is-inline":""} ${"button"===b.value?"is-button":""} ${x.value?"is-disabled":""} ${V.value?"is-"+V.value:""} ${o.customClass}`),k:e.s(o.customStyle),l:e.o($)})}}),c=e._export_sfc(s,[["__scopeId","data-v-b8ddd006"]]);wx.createComponent(c);
