"use strict";const e=require("../../../../common/vendor.js"),o=require("./types.js");Math||(s+t+n)();const t=()=>"../wd-icon/wd-icon.js",s=()=>"../wd-overlay/wd-overlay.js",n=()=>"../wd-transition/wd-transition.js",a=e.defineComponent({name:"wd-popup",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:o.popupProps,emits:["update:modelValue","before-enter","enter","before-leave","leave","after-leave","after-enter","click-modal","close"],setup(o,{emit:t}){const s=o,n=t,a=e.computed((()=>s.transition?s.transition:"center"===s.position?["zoom-in","fade"]:"left"===s.position?"slide-left":"right"===s.position?"slide-right":"bottom"===s.position?"slide-up":"top"===s.position?"slide-down":"slide-up")),l=e.ref(0),i=e.computed((()=>`z-index:${s.zIndex}; padding-bottom: ${l.value}px;${s.customStyle}`)),d=e.computed((()=>`wd-popup wd-popup--${s.position} ${s.transition||"center"!==s.position?"":"is-deep"} ${s.customClass||""}`));function r(){n("click-modal"),s.closeOnClickModal&&p()}function p(){n("close"),n("update:modelValue",!1)}function c(){}return e.onBeforeMount((()=>{if(s.safeAreaInsetBottom){const{safeArea:o,screenHeight:t,safeAreaInsets:s}=e.index.getSystemInfoSync();l.value=o?t-(o.bottom||0):0}})),(o,t)=>e.e({a:o.modal},o.modal?{b:e.o(r),c:e.o(c),d:e.p({show:o.modelValue,"z-index":o.zIndex,"lock-scroll":o.lockScroll,duration:o.duration,"custom-style":o.modalStyle})}:{},{e:o.closable},o.closable?{f:e.o(p),g:e.p({"custom-class":"wd-popup__close",name:"add"})}:{},{h:e.o((e=>n("before-enter"))),i:e.o((e=>n("enter"))),j:e.o((e=>n("after-enter"))),k:e.o((e=>n("before-leave"))),l:e.o((e=>n("leave"))),m:e.o((e=>n("after-leave"))),n:e.p({"lazy-render":o.lazyRender,"custom-class":d.value,"custom-style":i.value,duration:o.duration,show:o.modelValue,name:a.value,destroy:o.hideWhenClose})})}}),l=e._export_sfc(a,[["__scopeId","data-v-abf3f8bf"]]);wx.createComponent(l);
