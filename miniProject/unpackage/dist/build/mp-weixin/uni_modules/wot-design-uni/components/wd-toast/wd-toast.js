"use strict";const e=require("../../../../common/vendor.js"),o=require("../common/base64.js"),a=require("./index.js"),i=require("./types.js"),l=require("../common/util.js");Math||(t+s+n+u)();const n=()=>"../wd-icon/wd-icon.js",s=()=>"../wd-loading/wd-loading.js",t=()=>"../wd-overlay/wd-overlay.js",u=()=>"../wd-transition/wd-transition.js",r=e.defineComponent({name:"wd-toast",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:i.toastProps,setup(i){const n=i,s=e.ref(""),t=e.ref(""),u=e.ref("middle"),r=e.ref(!1),c=e.ref(100),d=e.ref("outline"),v=e.ref("#4D80F0"),f=e.ref(),p=e.ref(),m=e.ref(""),g=e.ref(!1),w=e.ref("wd-icon"),D=e.ref(""),z=e.ref("horizontal");let h=null,x=null;const j=a.getToastOptionKey(n.selector),y=e.inject(j,e.ref(a.defaultOptions));e.watch((()=>y.value),(e=>{var o;o=e,r.value=!!l.isDef(o.show)&&o.show,r.value&&function(e,o){s.value=l.isDef(e.iconName)?e.iconName:o.iconName,D.value=l.isDef(e.iconClass)?e.iconClass:o.iconClass,t.value=l.isDef(e.msg)?e.msg:o.msg,u.value=l.isDef(e.position)?e.position:o.position,c.value=l.isDef(e.zIndex)?e.zIndex:o.zIndex,d.value=l.isDef(e.loadingType)?e.loadingType:o.loadingType,v.value=l.isDef(e.loadingColor)?e.loadingColor:o.loadingColor,f.value=l.isDef(e.iconSize)?l.addUnit(e.iconSize):l.isDef(o.iconSize)?l.addUnit(o.iconSize):void 0,p.value=l.isDef(e.loadingSize)?l.addUnit(e.loadingSize):l.isDef(o.loadingSize)?l.addUnit(o.loadingSize):void 0,g.value=l.isDef(e.cover)?e.cover:o.cover,w.value=l.isDef(e.classPrefix)?e.classPrefix:o.classPrefix,z.value=l.isDef(e.direction)?e.direction:o.direction,x=l.isFunction(e.closed)?e.closed:l.isFunction(o.closed)?o.closed:null,h=l.isFunction(e.opened)?e.opened:l.isFunction(o.opened)?o.opened:null}(o,n)}),{deep:!0,immediate:!0}),e.watch((()=>s.value),(()=>{I()}),{deep:!0,immediate:!0});const _=e.computed((()=>{const e={"z-index":c.value,position:"fixed",top:"50%",left:0,width:"100%",transform:"translate(0, -50%)","text-align":"center","pointer-events":"none"};return l.objToStyle(e)})),C=e.computed((()=>`wd-toast ${n.customClass} wd-toast--${u.value} ${"loading"===s.value&&!t.value||!s.value&&!D.value?"":"wd-toast--with-icon"} ${"loading"!==s.value||t.value?"":"wd-toast--loading"} ${"vertical"===z.value?"is-vertical":""}`)),S=e.computed((()=>{const e={backgroundImage:`url(${m.value})`};return l.isDef(f.value)&&(e.width=f.value,e.height=f.value),l.objToStyle(e)}));function b(){l.isFunction(h)&&h()}function F(){l.isFunction(x)&&x()}function I(){if("success"!==s.value&&"warning"!==s.value&&"info"!==s.value&&"error"!==s.value)return;const e=a.toastIcon[s.value](),i=`"data:image/svg+xml;base64,${o.encode(e)}"`;m.value=i}return e.onBeforeMount((()=>{I()})),(o,a)=>e.e({a:g.value},g.value?{b:e.p({"z-index":c.value,"lock-scroll":!0,show:r.value,"custom-style":"background-color: transparent;pointer-events: auto;"})}:{},{c:"loading"===s.value},"loading"===s.value?{d:e.p({type:d.value,color:v.value,size:p.value,"custom-class":"wd-toast__icon "+("vertical"===z.value?"is-vertical":"")})}:"success"===s.value||"warning"===s.value||"info"===s.value||"error"===s.value?{f:e.s(S.value),g:e.n("wd-toast__iconWrap wd-toast__icon "+("vertical"===z.value?"is-vertical":""))}:D.value?{i:e.p({"custom-class":"wd-toast__icon "+("vertical"===z.value?"is-vertical":""),size:f.value,"class-prefix":w.value,name:D.value})}:{},{e:"success"===s.value||"warning"===s.value||"info"===s.value||"error"===s.value,h:D.value,j:t.value},t.value?{k:e.t(t.value)}:{},{l:e.n(C.value),m:e.o(b),n:e.o(F),o:e.p({name:"fade",show:r.value,"custom-style":_.value})})}}),c=e._export_sfc(r,[["__scopeId","data-v-7c34d5e9"]]);wx.createComponent(c);
