"use strict";const r=require("../common/vendor.js");function e(){const r=["apple","banana","cherry","date","elderberry","fig","grape","honeydew","kiwi","lemon","mango","nectarine","orange","papaya","quince","raspberry","strawberry","tangerine","ugli","vanilla"];return r[Math.floor(Math.random()*r.length)]}function n(n){const t=function(){let r="";for(let n=0;n<16;n++)r+=e();return r}(),o=r.CryptoJS.lib.WordArray.random(16),a=r.CryptoJS.AES.encrypt(JSON.stringify(n),"campus"+t,{iv:o,padding:r.CryptoJS.pad.Pkcs7,mode:r.CryptoJS.mode.CBC});return t+":"+o.toString(r.CryptoJS.enc.Base64)+":"+a.toString()}exports.clearUserInfo=function(){r.index.removeStorageSync("userInfo")},exports.getUserInfo=function(){const e=r.index.getStorageSync("userInfo");return e?function(e){const n=e.split(":"),t=n[0],o=r.CryptoJS.enc.Base64.parse(n[1]),a=n[2],s=r.CryptoJS.AES.decrypt(a,"campus"+t,{iv:o,padding:r.CryptoJS.pad.Pkcs7,mode:r.CryptoJS.mode.CBC}).toString(r.CryptoJS.enc.Utf8);return JSON.parse(s)}(e):null},exports.setUserInfo=function(e){const t=n(e);r.index.setStorageSync("userInfo",t)};
