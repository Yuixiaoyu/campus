{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/HBuilderX/HBuilderX.3.1.22.20210709.full/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"index\">\n    <view class=\"pop\">\n      <!-- 顶部banner -->\n      <image class=\"banner\" src=\"/static/index/banner.png\" mode=\"widthFix\"/>\n      <!--小鳄鱼-->\n      <image class=\"flag\" src=\"/static/index/keke.webp\"/>\n      <!--  消息通知  -->\n      <view class=\"message\">\n        <wd-notice-bar text=\"这是一条消息提示信息，这是一条消息提示信息，这是一条消息提示信息\" prefix=\"check-outline\"\n                       type=\"info\" custom-class=\"space\"/>\n      </view>\n    </view>\n\n    <!-- 搜索框 -->\n    <view class=\"search-container\">\n      <wd-search\n          v-model=\"searchValue\"\n          placeholder=\"搜索\"\n          @search=\"onSearch\"\n          hide-cancel\n      />\n    </view>\n\n    <!-- 模块导航 -->\n    <view class=\"module-container\">\n      <!--活动模块-->\n      <view class=\"module-activity\" @click=\"onActivity\">\n        <text class=\"title\">校园活动</text>\n        <text class=\"profile\">校园活动新鲜事</text>\n        <image\n            src=\"http://192.168.34.100:9000/campus/vfoBWmkko5RX597b0b5677e9cde1dfebdf346d2a50f9.webp\"\n            mode=\"widthFix\"\n            style=\"width: 100%; height: 100%;filter: drop-shadow(1px 5px 5px rgba(0,0,0,0.3))\"\n        ></image>\n      </view>\n\n      <!--社团圈模块-->\n      <view class=\"module-club\" @click=\"onClub\">\n        <text class=\"title\">社团</text>\n        <text class=\"profile\">兴趣星球碰撞</text>\n        <image\n            src=\"http://192.168.34.100:9000/campus/mWfgNwmw11Rz2868d78d44f177739b9b1849af323dde.webp\"\n            mode=\"widthFix\"\n            style=\"width: 100%; height: 100%;filter: drop-shadow(1px 5px 5px rgba(0,0,0,0.3))\"\n        ></image>\n      </view>\n\n      <!--学习圈模块-->\n      <view class=\"module-study\" @click=\"onStudy\">\n        <text class=\"title\">学习</text>\n        <text class=\"profile\">学渣逆袭指南</text>\n        <image\n            src=\"http://192.168.34.100:9000/campus/w2UAnLIm9yvefeee851a7bd1e227adc35a15b074a0f8.webp\"\n            mode=\"widthFix\"\n            style=\"width: 100%; height: 100%;filter: drop-shadow(1px 5px 5px rgba(0,0,0,0.3))\"\n        ></image>\n      </view>\n\n      <!--失物招领-->\n      <view class=\"module-lost_found\" @click=\"onStudy\">\n        <text class=\"title\">失物招领</text>\n        <text class=\"profile\">寻物速配站</text>\n        <image\n            src=\"http://192.168.34.100:9000/campus/3lRleBQ2isL84c85b73a49958e8e5f0f28e06260a65f.webp\"\n            mode=\"widthFix\"\n            style=\"width: 100%; height: 100%;filter: drop-shadow(1px 5px 5px rgba(0,0,0,0.3))\"\n        ></image>\n      </view>\n\n      <!--二手交易 暂时遗弃 考虑UI设计，后续添加-->\n      <!--      <view class=\"module-second_hand\" @click=\"onStudy\">\n            </view>-->\n    </view>\n\n    <!-- 文章列表 -->\n    <view class=\"article-list\">\n      <view v-for=\"(item, index) in articles\" :key=\"index\" class=\"article-item\">\n        <view class=\"article-header\">\n          <wd-img :src=\"item.avatar\" :width=\"45\" :height=\"45\" round mode=\"scaleToFill\"/>\n          <view class=\"article-info\">\n            <text class=\"article-author\">{{ item.author }}</text>\n            <text class=\"article-date\">发布时间: {{ item.date }}</text>\n          </view>\n        </view>\n        <view class=\"article-content\">\n          {{ item.content }}\n        </view>\n        <view class=\"article-footer\">\n          <view class=\"footer-left\">\n            <view class=\"footer-item\">\n              <wd-icon name=\"view\" size=\"16px\"/>\n              <text>{{ item.views }}</text>\n            </view>\n            <view class=\"footer-item\">\n              <wd-icon name=\"thumb-up\" size=\"16px\"/>\n              <text>{{ item.likes }}</text>\n            </view>\n            <view class=\"footer-item\">\n              <wd-icon name=\"chat\" size=\"16px\"/>\n              <text>{{ item.comments }}</text>\n            </view>\n          </view>\n          <wd-icon name=\"more\" size=\"16px\"/>\n        </view>\n      </view>\n    </view>\n\n    <!--  悬浮按钮  -->\n    <wd-fab @click=\"handlePublishArticle\" :expandable=\"false\" inactiveIcon=\"edit-outline\"\n            :position=\"`right-bottom`\"></wd-fab>\n\n    <!--  轻提示  -->\n    <wd-toast/>\n\n    <!-- 加载更多 -->\n    <wd-loadmore :state=\"state\" @reload=\"loadmore\"/>\n  </view>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, onMounted} from 'vue'\nimport {clearUserInfo, getUserInfo, setUserInfo} from \"@/utils/userStorage\";\nimport {useToast} from '@/uni_modules/wot-design-uni'\nimport {onLoad, onReachBottom} from '@dcloudio/uni-app'\n\nconst toast = useToast()\n// 搜索相关\nconst searchValue = ref('')\n\nconst onSearch = (value: string) => {\n  uni.__f__('log','at pages/index/index.vue:132','搜索:', value)\n}\n\n\n// 模块点击\nconst onActivity = () => {\n  uni.__f__('log','at pages/index/index.vue:138','点击活动模块')\n}\nconst onClub = () => {\n  uni.__f__('log','at pages/index/index.vue:141','点击社团圈模块')\n}\nconst onStudy = () => {\n  uni.__f__('log','at pages/index/index.vue:144','点击学习圈模块')\n}\n\n\n// 文章列表数据\nconst articles = ref([\n  {\n    author: '骑着蜗牛撑大伞',\n    avatar: 'https://tse1-mm.cn.bing.net/th/id/OIP-C.N_msAr5FxErn-Upzco0bqgAAAA?rs=1&pid=ImgDetMain',\n    date: '2025-01-12',\n    content: '文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试',\n    views: 123,\n    likes: 12,\n    comments: 32\n  },\n  {\n    author: '蜗牛不撑大伞',\n    avatar: 'https://c-ssl.dtstatic.com/uploads/blog/202204/01/20220401103259_8a853.thumb.400_0.jpg',\n    date: '2025-01-13',\n    content: '文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试，文章内容测试',\n    views: 123,\n    likes: 12,\n    comments: 32\n  }\n])\n\n// 加载更多相关\nconst state = ref<string>('loading')\nonReachBottom(() => {\n  //判断当前数据是否是最后一条，如果不是则继续调用loadmore()，否则将state.value='finished'\n  if (articles.value.length < 2) {\n    loadmore()\n  } else {\n    state.value = 'finished'\n  }\n})\n\n\nonLoad(() => {\n  loadmore()\n})\n\nfunction loadmore() {\n  //分页请求数据\n}\n\nconst initArticleData = () => {\n\n}\n\nonMounted(() => {\n\n  // clearUserInfo()\n})\n\n\n// Todo点击发布文章\nconst handlePublishArticle = () => {\n  // 先校验用户是否登录\n  const user = getUserInfo()\n  uni.__f__('log','at pages/index/index.vue:204',user)\n\n  if (!user) {\n    toast.show({\n      iconClass: 'info-circle',\n      position: 'middle',\n      msg: '请先登录',\n    })\n    setTimeout(() => {\n      // 跳转到登录页面\n      uni.reLaunch({\n        url: '/pages/login/login'\n      })\n    }, 1000)\n  } else {\n    // 跳转到发布文章页面\n    uni.navigateTo({\n      url: '/pages/publishArticle/publishArticle'\n    })\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.index {\n  min-height: 100vh;\n  background: linear-gradient(to bottom, #fafaff 80%, #e3f6ff 100%);\n  background-attachment: fixed; /* 背景固定 */\n  z-index: -1; /* 确保背景在内容后面 */\n  padding-bottom: 20px;\n}\n\n.pop {\n  position: relative; /* 父容器设置为相对定位 */\n  width: 100%;\n  height: 70%;\n\n  .banner {\n    width: 100%;\n    height: 430px;\n    filter: blur(0.5px);\n  }\n\n  .flag {\n    position: absolute;\n    //top: 218px;\n    bottom: 12px;\n    left: 120px;\n    width: 140px;\n    height: 140px;\n    margin-top: 10px;\n    z-index: 10;\n  }\n\n  .message {\n    width: 100%;\n    bottom: 0;\n    right: 0;\n    height: 40px;\n    background: #ffffff;\n    position: absolute;\n    z-index: 5;\n    border-top-left-radius: 22px;\n    border-top-right-radius: 22px;\n    overflow: hidden;\n\n  }\n}\n\n\n.search-container {\n\n}\n\n.module-container {\n  padding: 10px 20px;\n  display: grid;\n  grid-template-columns: 1fr 1fr; /* 两列等宽 */\n  grid-template-rows: 1fr 1fr;\n  gap: 10px; /* 间距 */\n  height: 30%;\n  font-family: \"fangsong\";\n\n  /* top-left的div */\n  .module-activity {\n    font-weight: bold;\n    height: 110px;\n    position: relative; /* 相对定位容器 */\n    .title {\n      position: absolute;\n      right: 10px;\n      top: 30px;\n      color: #ffffff;\n      font-weight: bold;\n      z-index: 999;\n      font-size: 20px;\n      letter-spacing: 0.2em;\n    }\n    .profile {\n      position: absolute;\n      font-size: 15px;\n      right: 15px;\n      color: #f2f2f2;\n      bottom: 20px;\n      z-index: 999;\n    }\n\n    image {\n      position: absolute;\n      bottom: 0; /* 定位到底部 */\n      height: auto;\n    }\n  }\n\n  /* 右边上面的小 div */\n  .module-club {\n    height: 110px;\n    position: relative; /* 相对定位容器 */\n    .title {\n      position: absolute;\n      right: 10px;\n      top: 30px;\n      color: #ffffff;\n      font-weight: bold;\n      z-index: 999;\n      font-size: 20px;\n      letter-spacing: 0.2em;\n    }\n    .profile {\n      position: absolute;\n      font-size: 15px;\n      right: 15px;\n      color: #eaeaea;\n      bottom: 20px;\n      z-index: 999;\n    }\n\n    image {\n      position: absolute;\n      bottom: 0; /* 定位到底部 */\n      height: auto;\n    }\n  }\n\n  /* 中间右边的小 div */\n  .module-study {\n    height: 110px;\n    position: relative; /* 相对定位容器 */\n    .title {\n      position: absolute;\n      right: 10px;\n      font-family: \"fangsong\";\n      top: 30px;\n      color: #ffffff;\n      font-weight: bold;\n      z-index: 999;\n      font-size: 20px;\n      letter-spacing: 0.2em;\n    }\n    .profile {\n      position: absolute;\n      font-size: 15px;\n      right: 15px;\n      color: #eeeeee;\n      bottom: 20px;\n      z-index: 999;\n    }\n\n    image {\n      position: absolute;\n      bottom: 0; /* 定位到底部 */\n      height: auto;\n    }\n  }\n\n  //底部左边的view\n  .module-lost_found {\n    height: 110px;\n    position: relative; /* 相对定位容器 */\n    .title {\n      position: absolute;\n      right: 15px;\n      top: 30px;\n      color: #ffffff;\n      font-weight: bold;\n      z-index: 999;\n      font-size: 20px;\n      letter-spacing: 0.2em;\n    }\n    .profile {\n      position: absolute;\n      font-size: 15px;\n      right: 15px;\n      color: #ebebeb;\n      bottom: 20px;\n      z-index: 999;\n    }\n\n    image {\n      position: absolute;\n      bottom: 0; /* 定位到底部 */\n      height: auto;\n    }\n  }\n}\n\n:deep(.wd-button.is-primary.data-v-aa3a6253) {\n  background-image: linear-gradient(to top, #555ae4 0%, #8266f2 100%);\n}\n\n.article-list {\n  margin-top: 10px;\n  padding: 0 16px;\n\n  .article-item {\n    margin-bottom: 10px;\n    padding: 16px;\n    background-color: #fff;\n    border-radius: 8px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\n    .article-header {\n      display: flex;\n      align-items: center;\n      margin-bottom: 12px;\n\n      .article-info {\n        margin-left: 12px;\n\n        .article-author {\n          display: block;\n          font-size: 14px;\n          color: #333;\n        }\n\n        .article-date {\n          display: block;\n          font-size: 12px;\n          color: #999;\n          margin-top: 4px;\n        }\n      }\n    }\n\n    .article-content {\n      font-size: 14px;\n      color: #666;\n      line-height: 1.5;\n      margin-bottom: 12px;\n    }\n\n    .article-footer {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      .footer-left {\n        display: flex;\n        gap: 16px;\n\n        .footer-item {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          color: #999;\n          font-size: 12px;\n        }\n      }\n    }\n  }\n}\n</style>\n","import MiniProgramPage from 'G:/Code/campus/miniProject/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useToast","ref","uni","onReachBottom","onLoad","onMounted","getUserInfo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA,UAAM,QAAQA,kDAAAA;AAER,UAAA,cAAcC,kBAAI,EAAE;AAEpB,UAAA,WAAW,CAAC,UAAkB;AAClCC,oBAAA,MAAI,MAAM,OAAM,gCAA+B,OAAO,KAAK;AAAA,IAAA;AAK7D,UAAM,aAAa,MAAM;AACnBA,oBAAAA,MAAA,MAAM,OAAM,gCAA+B,QAAQ;AAAA,IAAA;AAEzD,UAAM,SAAS,MAAM;AACfA,oBAAAA,MAAA,MAAM,OAAM,gCAA+B,SAAS;AAAA,IAAA;AAE1D,UAAM,UAAU,MAAM;AAChBA,oBAAAA,MAAA,MAAM,OAAM,gCAA+B,SAAS;AAAA,IAAA;AAK1D,UAAM,WAAWD,cAAAA,IAAI;AAAA,MACnB;AAAA,QACE,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,QACE,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU;AAAA,MACZ;AAAA,IAAA,CACD;AAGK,UAAA,QAAQA,kBAAY,SAAS;AACnCE,kBAAAA,cAAc,MAAM;AAEd,UAAA,SAAS,MAAM,SAAS;AAAG;AAAA,WAExB;AACL,cAAM,QAAQ;AAAA,MAChB;AAAA,IAAA,CACD;AAGDC,kBAAAA,OAAO,MAAM;AAAA,IACF,CACV;AAED,aAAS,WAAW;AAAA,IAEpB;AAMAC,kBAAAA,UAAU,MAAM;AAAA,IAAA,CAGf;AAID,UAAM,uBAAuB,MAAM;AAEjC,YAAM,OAAOC,kBAAAA;AACTJ,oBAAAA,MAAA,MAAM,OAAM,gCAA+B,IAAI;AAEnD,UAAI,CAAC,MAAM;AACT,cAAM,KAAK;AAAA,UACT,WAAW;AAAA,UACX,UAAU;AAAA,UACV,KAAK;AAAA,QAAA,CACN;AACD,mBAAW,MAAM;AAEfA,wBAAAA,MAAI,SAAS;AAAA,YACX,KAAK;AAAA,UAAA,CACN;AAAA,WACA,GAAI;AAAA,MAAA,OACF;AAELA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,QAAA,CACN;AAAA,MACH;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7NF,GAAG,WAAW,eAAe;"}