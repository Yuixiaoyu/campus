{"version":3,"file":"my.js","sources":["pages/my/my.vue","D:/HBuilderX/HBuilderX.3.1.22.20210709.full/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvbXkudnVl"],"sourcesContent":["<template>\n  <view class=\"my-page\">\n    <!-- 顶部用户信息区域 -->\n    <view class=\"user-info\">\n      <view class=\"user-header\">\n        <wd-img :src=\"userInfo.userAvatar || 'http://192.168.34.100:9000/campus/nAH9IwNA5RLPa749104127442e3a91ee3c41c57d8a34.webp'\" width=\"80\" height=\"80\" round/>\n        <view class=\"user-data\">\n          <view class=\"nickname\">{{ userInfo.userName }}</view>\n          <view class=\"edit\">\n            修仙熬夜座~\n          </view>\n        </view>\n      </view>\n\n      <!-- 个人简介 -->\n      <view class=\"user-bio\">\n        <view class=\"bio-text\">{{ userInfo.userProfile || '这个人很懒，简介都不想写，估计是没有对象吧' }}</view>\n        <view class=\"user-tags\">\n          <wd-tag type=\"primary\" round>电竞少年</wd-tag>\n          <wd-tag type=\"warning\" round>时间管理大师</wd-tag>\n          <wd-tag type=\"success\" round>程序猿</wd-tag>\n        </view>\n      </view>\n\n      <!-- 用户统计数据 -->\n      <view class=\"user-stats\">\n        <view class=\"stat-item\">\n          <view class=\"num\">{{ userInfo.follows || 168 }}</view>\n          <view class=\"label\">关注</view>\n        </view>\n        <view class=\"stat-item\">\n          <view class=\"num\">{{ userInfo.fans || '3.1k' }}</view>\n          <view class=\"label\">粉丝</view>\n        </view>\n        <view class=\"stat-item\">\n          <view class=\"num\">{{ userInfo.likes || 263 }}</view>\n          <view class=\"label\">获赞数</view>\n        </view>\n        <view class=\"stat-item\">\n          <wd-icon name=\"setting\" size=\"18px\" color=\"#adadad\"></wd-icon>\n          <view class=\"label\">编辑</view>\n        </view>\n      </view>\n    </view>\n\n    <wd-tabs v-model=\"tab\">\n      <template v-for=\"item in tabs\" :key=\"item\">\n        <wd-tab :title=\"item\" :name=\"item\">\n          <!-- 内容区域 -->\n          <!-- 容器一 -->\n          <view class=\"box\">\n            <view v-for=\"(item,index) in dataList\" :key=\"index\">\n              <!-- 圆点 -->\n              <view class=\"point\">\n                <view class=\"dot\">&nbsp;</view>\n                <view class=\"title\">{{ item.createTime.split(\"T\")[0] }}</view>\n              </view>\n              <!-- 容器二 -->\n              <view class=\"box-line\">\n                <!-- 容器三 -->\n                <view class=\"box-data\">\n                  <view class=\"row-info\">{{ item.content }}</view>\n                  <!-- 三图容器 -->\n                  <view class=\"image-list\">\n                    <!-- 循环生成三个图片 -->\n                    <!--              {{item.imagesList}}-->\n                    <view\n                        v-for=\"(url,index) in item.imagesList.slice(0,3)\"\n                        v-if=\"item.imagesList.length!=0\"\n                        :key=\"index\"\n                        class=\"image-wrapper\"\n                        :class=\"{ 'last-item': index === 2 }\"\n                    >\n                      <!-- wot-design 图片组件 -->\n                      <wd-img\n                          width=\"100%\"\n                          height=\"100%\"\n                          mode=\"aspectFill\"\n                          :src=\"url\"\n                      />\n\n                      <!-- 最后一个图片的蒙版 -->\n                      <view v-if=\"index === 2\" class=\"mask\">\n                        <text class=\"plus-text\">+{{ (item.imagesList.length - 3) }}</text>\n                      </view>\n                    </view>\n                  </view>\n                  <wd-tag class=\"tag\" v-for=\"tag in item.tags\" type=\"primary\" plain mark>{{tag}}</wd-tag>\n\n                  <view class=\"row-button\">\n                    <view class=\"footer-item\">\n                      <wd-icon name=\"view\" size=\"16px\"/>\n                      <text>{{item.viewCount}}</text>\n                    </view>\n                    <view class=\"footer-item\">\n                      <wd-icon name=\"thumb-up\" size=\"16px\"/>\n                      <text>{{item.likeCount}}</text>\n                    </view>\n                    <view class=\"footer-item\">\n                      <wd-icon name=\"chat\" size=\"16px\"/>\n                      <text>{{item.commentCount}}</text>\n                    </view>\n                  </view>\n                </view>\n              </view>\n            </view>\n          </view>\n        </wd-tab>\n      </template>\n    </wd-tabs>\n\n\n  </view>\n</template>\n\n<script setup lang=\"ts\">\nimport {onMounted, reactive, ref} from 'vue'\nimport {getArticleByUserId} from \"@/api/articleApi\";\nimport {getUserInfo} from \"@/utils/userStorage\";\n\n// 用户信息\nconst userInfo = ref({})\n\nconst dataList = reactive([])\n\n// 编辑资料\nconst editProfile = () => {\n  uni.navigateTo({\n    url: '/pages/editProfile/editProfile'\n  })\n}\n\nconst myArticleList = async () => {\n  userInfo.value = getUserInfo();\n  const articleList = await getArticleByUserId(userInfo.value.id)\n  uni.__f__('log','at pages/my/my.vue:136',articleList)\n//   将articleList.data赋值给dataList\n  dataList.push(...articleList.data)\n  uni.__f__('log','at pages/my/my.vue:139',dataList)\n\n}\nonMounted(() => {\n  myArticleList()\n})\n\nconst tab = ref<number>(0)\nconst tabs = ref(['投稿','收藏','喜欢'])\n\n</script>\n\n<style lang=\"scss\" scoped>\n.my-page {\n  min-height: 100vh;\n  background-color: #fff;\n\n  .user-info {\n\n    padding: 100px 20px 10px 20px;\n    color: #ffffff;\n    background: linear-gradient(to bottom, #8c989e, #3d4753);\n\n    .user-header {\n      display: flex;\n      align-items: center;\n\n      .user-data {\n        margin-left: 20px;\n\n        .nickname {\n          font-size: 24px;\n          font-weight: 600;\n          margin-bottom: 8px;\n        }\n        .edit{\n          margin-top: 10px;\n          font-size: 14px;\n          font-weight: 100;\n        }\n      }\n    }\n\n    .user-stats {\n      display: flex;\n      justify-content: center;\n      margin: 15px 0;\n      align-items: center;\n\n      .stat-item {\n        flex: 1;\n        //text-align: center;\n        padding-left: 10px;\n        .num {\n          font-size: 18px;\n          //font-weight: 600;\n          margin-bottom: 4px;\n        }\n\n        .label {\n          font-size: 12px;\n          //color: #666;\n        }\n      }\n      .stat-item:last-child{\n        flex: 1.5;\n        text-align: center;\n        :deep(.wd-icon-setting){\n          margin: 4px 0;\n        }\n        .label {\n          font-size: 13px;\n          font-weight: 100;\n          //color: #666;\n        }\n      }\n    }\n\n    .user-bio {\n      .bio-text {\n        margin-top: 32px;\n        font-size: 14px;\n        font-weight: 100;\n        margin-bottom: 12px;\n      }\n\n      .user-tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n\n        .tag {\n          padding: 4px 12px;\n          background-color: #f5f5f5;\n          border-radius: 20px;\n          font-size: 12px;\n          color: #666;\n        }\n      }\n    }\n  }\n\n  :deep(.wd-tabs__nav){\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    margin-top: -10px;\n  }\n  /* 容器一 */\n  .box {\n    padding: 10rpx 20rpx 10rpx 40rpx;\n    background-color: #f6f6f6;\n\n    /* 圆点 */\n    .point {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      margin: 15rpx 0;\n    }\n\n    .dot {\n      margin-left: -22rpx;\n      background-color: #198fbe;\n      box-shadow: 0 0 5rpx 5rpx #71b2d5;\n      color: white;\n      width: 24rpx;\n      padding: 5rpx;\n      font-size: 16rpx;\n      text-align: center;\n      border-radius: 50rpx;\n    }\n\n    .title {\n      font-size: 30rpx;\n      margin-left: 15rpx;\n      background-color: white;\n      padding: 12rpx 25rpx;\n      border-radius: 50rpx;\n      color: #909399;\n    }\n\n    /* 容器二 */\n    .box-line {\n      border-left: 3rpx solid #c8c9cc;\n      padding: 15rpx 10rpx 15rpx 35rpx;\n    }\n\n    /* 容器三 */\n    .box-data {\n      background-color: white;\n      padding: 30rpx 15rpx;\n      border-radius: 15rpx;\n      box-shadow: 1px 2px 5px 1px #c8c9cc;\n    }\n\n    .row-info {\n      font-size: 28rpx;\n      color: gray;\n      line-height: 45rpx;\n      padding: 0 15rpx;\n      text-indent: 2rem;\n    }\n    .tag{\n      margin: 5px 3px;\n    }\n\n    .row-button {\n      display: flex;\n      flex-direction: row;\n      //justify-content: space-around;\n      align-items: center;\n      border-top: 1rpx solid #f1f1f1;\n      margin-top: 20rpx;\n      padding-top: 20rpx;\n    }\n\n    .row-button view {\n      padding: 4px 8px;\n      font-size: 28rpx;\n      //color: white;\n      color: #9e9e9e;\n      border-radius: 10rpx;\n    }\n\n    /* 图片列表布局 */\n    .image-list {\n      display: flex;\n      gap: 10rpx; /* 图片间距 */\n\n      /* 图片容器 */\n      .image-wrapper {\n        flex: 1;\n        aspect-ratio: 1; /* 保持正方形 */\n        position: relative;\n        overflow: hidden;\n        border-radius: 12rpx; /* 可选圆角 */\n      }\n\n      /* 蒙版样式 */\n      .mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.5);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        /* +10 文字样式 */\n        .plus-text {\n          color: #fff;\n          font-size: 36rpx;\n          font-weight: bold;\n        }\n      }\n\n\n    }\n\n\n    /* 处理最后一个元素的额外样式（可选） */\n    .last-item {\n      margin-right: 0;\n    }\n\n  }\n\n}\n</style>\n","import MiniProgramPage from 'G:/Code/campus/miniProject/pages/my/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","reactive","getUserInfo","getArticleByUserId","uni","onMounted"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAyHM,UAAA,WAAWA,kBAAI,CAAA,CAAE;AAEjB,UAAA,WAAWC,uBAAS,CAAA,CAAE;AAS5B,UAAM,gBAAgB,YAAY;AAChC,eAAS,QAAQC,kBAAAA;AACjB,YAAM,cAAc,MAAMC,eAAmB,mBAAA,SAAS,MAAM,EAAE;AAC1DC,oBAAAA,MAAA,MAAM,OAAM,0BAAyB,WAAW;AAE3C,eAAA,KAAK,GAAG,YAAY,IAAI;AAC7BA,oBAAAA,MAAA,MAAM,OAAM,0BAAyB,QAAQ;AAAA,IAAA;AAGnDC,kBAAAA,UAAU,MAAM;AACA;IAAA,CACf;AAEK,UAAA,MAAML,kBAAY,CAAC;AACzB,UAAM,OAAOA,cAAAA,IAAI,CAAC,MAAK,MAAK,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjJjC,GAAG,WAAW,eAAe;"}